#include"bool.c"

#include<stdio.h>
#include<string.h>
#include<stdbool.h>

bool BB_is_equal(BB *B1, BB *B2) {
    if (B1 && B2){
        if (memcmp(B1, B2, sizeof(BB)) == 0) {
            return true;
        }
    }
    return false;
}

bool xor_test(char *x, char *y, char *ans) {

    if (!(x && y && ans)) {
        return false;
    }
    BB Bx, By, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&By);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(y, &By);
    str_to_bb(ans, &Bans);

    xor(&Bx, &By, &Bres);
    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int xor_check() {
    int err_count = 0;
    err_count += xor_test("1", "1", "0")? 0: 1;
    err_count += xor_test("1", "0", "1")? 0: 1;
    err_count += xor_test("0", "0", "0")? 0: 1;
    err_count += xor_test("1001011001111111111101101111110101", "11100010110001111111101101", "1001011010011101001100010000011000")? 0: 1;
    err_count += xor_test("111111111111111111111111111111111111111111111111111111111111111", 
                        "00000000000000000000000101010100000000101111111101111101011", 
                        "111111111111111111111111111010101011111111010000000010000010100")? 0: 1;
    err_count += xor_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        "10010001010101010010", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110"
        )? 0: 1;
    err_count += xor_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        "1", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111"
        )? 0: 1;
    err_count += xor_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        "100101010001000011111100010100101001010000000000100110100000100010101111111110101010101001010101010111111111010010101010101010100101001010101101001101001010101", 
        "001101100010101111000010111101010101101111010111010010111110110111111010001011111010100110101111111110110101111000000011111111010110011110010101100001001010010"
        )? 0: 1;
    return err_count;
}

bool and_test(char *x, char *y, char *ans) {
    if (!(x && y && ans)) {
        return false;
    }
    BB Bx, By, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&By);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(y, &By);
    str_to_bb(ans, &Bans);

    conjunction(&Bx, &By, &Bres);

    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int and_check() {

    int err_count = 0;

    err_count += and_test("1", "1", "1")? 0: 1;
    err_count += and_test("1", "0", "0")? 0: 1;
    err_count += and_test("0", "0", "0")? 0: 1;
    err_count += and_test(
        "1001011001111111111101101111110101", 
        "11100010110001111111101101", 
        "1001011001100010110001101111100101")? 0: 1;
    err_count += and_test("111111111111111111111111111111111111111111111111111111111111111", 
                        "00000000000000000000000101010100000000101111111101111101011", 
                        "111100000000000000000000000101010100000000101111111101111101011")? 0: 1;
    err_count += and_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        "10010001010101010010", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100100010000010101010000"
        )? 0: 1;
    err_count += and_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        "1", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110"
        )? 0: 1;
    err_count += and_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        "100101010001000011111100010100101001010000000000100110100000100010101111111110101010101001010101010111111111010010101010101010100101001010101101001101001010101", 
        "100000010001000000111100000000101000010000000000100100000000000000000101110100000000001001010000000001001010000010101000000000100001000000101000001100000000101"
        )? 0: 1;
    return err_count;
}

bool or_test(char *x, char *y, char *ans) {

    if (!(x && y && ans)) {
        return false;
    }
    BB Bx, By, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&By);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(y, &By);
    str_to_bb(ans, &Bans);

    disjunction(&Bx, &By, &Bres);
    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int or_check() {

    int err_count = 0;

    err_count += or_test("1", "1", "1")? 0: 1;
    err_count += or_test("1", "0", "1")? 0: 1;
    err_count += or_test("0", "0", "0")? 0: 1;
    err_count += or_test("1001011001111111111101101111110101", "11100010110001111111101101", "1001011011111111111101111111111101")? 0: 1;
    err_count += or_test("111111111111111111111111111111111111111111111111111111111111111", 
                        "00000000000000000000000101010100000000101111111101111101011", 
                        "111111111111111111111111111111111111111111111111111111111111111")? 0: 1;
    err_count += or_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        "10010001010101010010", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111010101110101010110"
        )? 0: 1;
    err_count += or_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        "1", 
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111"
        )? 0: 1;
    err_count += or_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        "100101010001000011111100010100101001010000000000100110100000100010101111111110101010101001010101010111111111010010101010101010100101001010101101001101001010101", 
        "101101110011101111111110111101111101111111010111110110111110110111111111111111111010101111111111111111111111111010101011111111110111011110111101101101001010111"
        )? 0: 1;

    return err_count;
}

bool left_shift_test(char *x, int amount, char *ans) {

    if (!(x && ans)) {
        return false;
    }
    BB Bx, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(ans, &Bans);

    left_shift(&Bx, &Bres, amount);

    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int left_shift_check() {

    int err_count = 0;

    err_count += left_shift_test("1", 1, "10")? 0: 1;
    err_count += left_shift_test("1", 0, "1")? 0: 1;
    err_count += left_shift_test("1", 25, "10000000000000000000000000")? 0: 1;
    err_count += left_shift_test("1001011001111111111101101111110101", 13, "10010110011111111111011011111101010000000000000")? 0: 1;
    err_count += left_shift_test("111111111111111111111111111111111111111111111111111111111111111", 
                        7, 
                        "1111111111111111111111111111111111111111111111111111111111111110000000")? 0: 1;
    err_count += left_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        22, 
        "1010001100111011001111101010011111001111110101111101000111100101010101011101010100000011111110101010010010101010101010010101011100110101001010101001101010101000000000000000000000000"
        )? 0: 1;
    err_count += left_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        1, 
        "1010001100111011001111101010011111001111110101111101000111100101010101011101010100000011111110101010010010101010101010010101011100110101001110001011000000001100"
        )? 0: 1;
    err_count += left_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        100101, 
        "0"
        )? 0: 1;

    return err_count;
}


bool right_shift_test(char *x, int amount, char *ans) {

    if (!(x && ans)) {
        return false;
    }
    BB Bx, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(ans, &Bans);

    right_shift(&Bx, &Bres, amount);
    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int right_shift_check() {

    int err_count = 0;

    err_count += right_shift_test("1", 1, "0")? 0: 1;
    err_count += right_shift_test("1", 0, "1")? 0: 1;
    err_count += right_shift_test("1", 25, "0")? 0: 1;
    err_count += right_shift_test("1001011001111111111101101111110101", 13, "100101100111111111110")? 0: 1;
    err_count += right_shift_test("111111111111111111111111111111111111111111111111111111111111111", 
                        7, 
                        "11111111111111111111111111111111111111111111111111111111")? 0: 1;
    err_count += right_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        22, 
        "10100011001110110011111010100111110011111101011111010001111001010101010111010101000000111111101010100100101010101010100101010111001101010"
        )? 0: 1;
    err_count += right_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        1, 
        "10100011001110110011111010100111110011111101011111010001111001010101010111010101000000111111101010100100101010101010100101010111001101010011100010110000000011"
        )? 0: 1;
    err_count += right_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        10010101, 
        "0"
        )? 0: 1;
    
    return err_count;
}

bool left_cycle_shift_test(char *x, int amount, char *ans) {

    if (!(x && ans)) {
        return false;
    }
    BB Bx, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(ans, &Bans);

    left_cycle_shift(&Bx, &Bres, amount);

    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int left_cycle_shift_check() {

    int err_count = 0;

    err_count += left_cycle_shift_test("1", 1, "1")? 0: 1;
    err_count += left_cycle_shift_test("1", 0, "1")? 0: 1;
    err_count += left_cycle_shift_test("1", -25, "1")? 0: 1;
    err_count += left_cycle_shift_test("1001011001111111111101101111110101", 13, "1101111110101100101100111111111110")? 0: 1;
    err_count += left_cycle_shift_test("111111111111111111111111111111111111111111111111111111111111111", 
                        -7, 
                        "111111111111111111111111111111111111111111111111111111111111111")? 0: 1;
    err_count += left_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        22, 
        "010101010011010101010010100011001110110011111010100111110011111101011111010001111001010101010111010101000000111111101010100100101010101010100101010111001101010"
        )? 0: 1;
    err_count += left_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        -1, 
        "111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110101000110011101100111110101001111100111"
        )? 0: 1;
    err_count += left_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        10010101, 
        "010101010111010101000000111111101010100100101010101010100101010111001101010011100010110000000011110100011001110110011111010100111110011111101011111010001111001"
        )? 0: 1;

    return err_count;
}

bool right_cycle_shift_test(char *x, int amount, char *ans) {

    if (!(x && ans)) {
        return false;
    }
    BB Bx, Bans, Bres;

    reset_bb(&Bx);
    reset_bb(&Bans);
    reset_bb(&Bres);

    str_to_bb(x, &Bx);
    str_to_bb(ans, &Bans);
    right_cycle_shift(&Bx, &Bres, amount);

    if (BB_is_equal(&Bans, &Bres)) {
        return true;
    }
    return false;
}

int right_cycle_shift_check() {

    int err_count = 0;

    err_count += right_cycle_shift_test("1", 1, "1")? 0: 1;
    err_count += right_cycle_shift_test("1", 0, "1")? 0: 1;
    err_count += right_cycle_shift_test("1", -25, "1")? 0: 1;
    err_count += right_cycle_shift_test("1001011001111111111101101111110101", 13, "1111111011011111101011001011001111")? 0: 1;
    err_count += right_cycle_shift_test("111111111111111111111111111111111111111111111111111111111111111", 
                        -7, 
                        "111111111111111111111111111111111111111111111111111111111111111")? 0: 1;           
    err_count += right_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100", 
        22, 
        "101010011111001111110101111101000111100101010101011101010100000011111110101010010010101010101010010101011100110101001010101001101010101001010001100111011001111"
        )? 0: 1;
    err_count += right_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110", 
        -1, 
        "010101110011010100111000101100000000110101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001"
        )? 0: 1;
    err_count += right_cycle_shift_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        10010101, 
        "010010010101010101010010101011100110101001110001011000000001111010001100111011001111101010011111001111110101111101000111100101010101011101010100000011111110101"
        )? 0: 1;
    return err_count;
}

bool inversion_test(char *x, char *ans) {

    if (!(x && ans)) {
        return false;
    }
    BB Bx, bans, bres;

    reset_bb(&Bx);
    reset_bb(&bans);
    reset_bb(&bres);

    str_to_bb(x, &Bx);
    str_to_bb(ans, &bans);
    inversion(&Bx, &bres);

    if (BB_is_equal(&bans, &bres)) {
        return true;
    }
    return false;
}

int inversion_check() {

    int err_count = 0;

    err_count += inversion_test("1", "0")? 0: 1;
    err_count += inversion_test("0", "1")? 0: 1;
    err_count += inversion_test("1001011001111111111101101111110101", "0110100110000000000010010000001010")? 0: 1;
    err_count += inversion_test("111111111111111111111111111111111111111111111111111111111111111", 
                        "000000000000000000000000000000000000000000000000000000000000000")? 0: 1;
    err_count += inversion_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100101010100110101010100",  
        "010111001100010011000001010110000011000000101000001011100001101010101010001010101111110000000101010110110101010101010110101010001100101011010101011001010101011"
        )? 0: 1;
    err_count += inversion_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000110",  
        "010111001100010011000001010110000011000000101000001011100001101010101010001010101111110000000101010110110101010101010110101010001100101011000111010011111111001"
        )? 0: 1;
    err_count += inversion_test(
        "101000110011101100111110101001111100111111010111110100011110010101010101110101010000001111111010101001001010101010101001010101110011010100111000101100000000111", 
        "010111001100010011000001010110000011000000101000001011100001101010101010001010101111110000000101010110110101010101010110101010001100101011000111010011111111000"
        )? 0: 1;

    return err_count;
}


int main() {

    int err_xor = xor_check();
    int  err_and = and_check();
    int  err_or = or_check();
    int err_left_shift = left_shift_check();
    int err_right_shift = right_shift_check();
    int err_right_cycle_shift = right_cycle_shift_check();
    int err_left_cycle_shift = left_cycle_shift_check();
    int err_inversion = inversion_check();


    printf("Xor:\t%d\n", err_xor);
    printf("And:\t%d\n", err_and);
    printf("Or:\t%d\n", err_or);
    printf("Left shift:\t%d\n", err_left_shift);
    printf("Right shift:\t%d\n", err_right_shift);
    printf("Right cycle shift:\t%d\n", err_right_cycle_shift);
    printf("Left cycle shift:\t%d\n", err_left_cycle_shift);
    printf("Inversion:\t%d\n", err_inversion);
    return 0;
}